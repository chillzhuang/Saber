<template>
  <el-dialog center
             :show-close="false"
             :close-on-press-escape="false"
             :close-on-click-modal="false"
             append-to-body
             v-model="dialogVisible"
             title="äººæœºè¯†åˆ«"
             width="400px">
    <center>
      <span>
        æ‰«ç ä¸‹æ–¹äºŒç»´ç ï¼Œå›å¤<b>ã€éªŒè¯ç ã€‘</b><br />
        <span style="color:red">è·å¾—ã€ŒéªŒè¯ç  + äº¤æµç¾¤(ä¸€èµ·æ‘¸ğŸŸ)ã€</span>
      </span>
      <br />
      <br />
      <img width="200"
           src="https://avuejs.com/images/icon/wechat.png" />
      <br />
      <br />
      <el-input v-model="value"
                placeholder="è¯·è¾“å…¥éªŒè¯ç "></el-input>
    </center>
    <template #footer>
      <span class="dialog-footer">
        <el-button type="primary"
                   @click="submit">ç¡® è®¤</el-button>
      </span>
    </template>
  </el-dialog>
</template>
<script>
export default {
  data () {
    return {
      value: '',
      dialogVisible: false
    }
  },
  created () {
    if (window.localStorage.getItem('avue_lock')) {
      return
    }
    this.dialogVisible = true
  },
  methods: {
    submit () {
      if (this.value == '') {
        this.$message.error('éªŒè¯ç ä¸èƒ½ä¸ºç©º')
        return
      } else if (this.value != 'avue') {
        this.$message.error('éªŒè¯ç ä¸æ­£ç¡®')
        return
      }
      this.dialogVisible = false
      window.localStorage.setItem('avue_lock', true)
    }
  }

}
</script>